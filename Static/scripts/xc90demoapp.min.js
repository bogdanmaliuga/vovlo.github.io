!function(t,e){"function"==typeof define&&define.amd?define(e):t.Dragdealer=e()}(this,function(){function t(t){var e="Webkit Moz ms O".split(" "),i=document.documentElement.style;if(void 0!==i[t])return t;t=t.charAt(0).toUpperCase()+t.substr(1);for(var s=0;s<e.length;s++)if(void 0!==i[e[s]+t])return e[s]+t}function e(t){c.backfaceVisibility&&c.perspective&&(t.style[c.perspective]="1000px",t.style[c.backfaceVisibility]="hidden")}var i=function(t,e){this.options=this.applyDefaults(e||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(t),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};i.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0},init:function(){this.options.css3&&e(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.dragStartPosition={x:0,y:0},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(t){for(var e in this.defaults)t.hasOwnProperty(e)||(t[e]=this.defaults[e]);return t},getWrapperElement:function(t){return"string"==typeof t?document.getElementById(t):t},getHandleElement:function(t,e){var i,s,o;if(t.getElementsByClassName){if(i=t.getElementsByClassName(e),i.length>0)return i[0]}else for(s=new RegExp("(^|\\s)"+e+"(\\s|$)"),i=t.getElementsByTagName("*"),o=0;o<i.length;o++)if(s.test(i[o].className))return i[o]},calculateStepRatios:function(){var t=[];if(this.options.steps>=1)for(var e=0;e<=this.options.steps-1;e++)this.options.steps>1?t[e]=e/(this.options.steps-1):t[e]=0;return t},setWrapperOffset:function(){this.offset.wrapper=h.get(this.wrapper)},calculateBounds:function(){var t={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return t.availWidth=t.right-t.left-this.handle.offsetWidth,t.availHeight=t.bottom-t.top-this.handle.offsetHeight,t},calculateValuePrecision:function(){var t=this.options.xPrecision||Math.abs(this.bounds.availWidth),e=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[t?1/t:0,e?1/e:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=s(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=s(u,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=s(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=s(p,window),this.animateWithRequestAnimationFrame=s(this.animateWithRequestAnimationFrame,this),this.animate=s(this.animate,this),this.onHandleMouseDown=s(this.onHandleMouseDown,this),this.onHandleTouchStart=s(this.onHandleTouchStart,this),this.onDocumentMouseMove=s(this.onDocumentMouseMove,this),this.onWrapperTouchMove=s(this.onWrapperTouchMove,this),this.onWrapperMouseDown=s(this.onWrapperMouseDown,this),this.onWrapperTouchStart=s(this.onWrapperTouchStart,this),this.onDocumentMouseUp=s(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=s(this.onDocumentTouchEnd,this),this.onHandleClick=s(this.onHandleClick,this),this.onWindowResize=s(this.onWindowResize,this)},bindEventListeners:function(){o(this.handle,"mousedown",this.onHandleMouseDown),o(this.handle,"touchstart",this.onHandleTouchStart),o(document,"mousemove",this.onDocumentMouseMove),o(this.wrapper,"touchmove",this.onWrapperTouchMove),o(this.wrapper,"mousedown",this.onWrapperMouseDown),o(this.wrapper,"touchstart",this.onWrapperTouchStart),o(document,"mouseup",this.onDocumentMouseUp),o(document,"touchend",this.onDocumentTouchEnd),o(this.handle,"click",this.onHandleClick),o(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){n(this.handle,"mousedown",this.onHandleMouseDown),n(this.handle,"touchstart",this.onHandleTouchStart),n(document,"mousemove",this.onDocumentMouseMove),n(this.wrapper,"touchmove",this.onWrapperTouchMove),n(this.wrapper,"mousedown",this.onWrapperMouseDown),n(this.wrapper,"touchstart",this.onWrapperTouchStart),n(document,"mouseup",this.onDocumentMouseUp),n(document,"touchend",this.onDocumentTouchEnd),n(this.handle,"click",this.onHandleClick),n(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(t){l.refresh(t),a(t),r(t),this.activity=!1,this.startDrag()},onHandleTouchStart:function(t){l.refresh(t),r(t),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(t){t.clientX-this.dragStartPosition.x===0&&t.clientY-this.dragStartPosition.y===0||(l.refresh(t),this.dragging&&(this.activity=!0,a(t)))},onWrapperTouchMove:function(t){return l.refresh(t),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(a(t),void(this.activity=!0))},onWrapperMouseDown:function(t){l.refresh(t),a(t),this.startTap()},onWrapperTouchStart:function(t){l.refresh(t),a(t),this.startTap()},onDocumentMouseUp:function(t){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(t){this.stopDrag(),this.stopTap()},onHandleClick:function(t){this.activity&&(a(t),r(t))},onWindowResize:function(t){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getStepWidth:function(){return Math.abs(this.bounds.availWidth/this.options.steps)},getValue:function(){return this.value.target},setStep:function(t,e,i){this.setValue(this.options.steps&&t>1?(t-1)/(this.options.steps-1):0,this.options.steps&&e>1?(e-1)/(this.options.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){!this.disabled&&this.options.tapping&&(this.tapping=!0,this.setWrapperOffset(),this.setTargetValueByOffset([l.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,l.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current))},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.dragStartPosition={x:l.x,y:l.y},this.offset.mouse=[l.x-h.get(this.handle)[0],l.y-h.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=0===this.bounds.availWidth?0:(l.x-this.dragStartPosition.x)/this.bounds.availWidth,e=0===this.bounds.availHeight?0:(l.y-this.dragStartPosition.y)/this.bounds.availHeight,i=[t,e],s=this.groupClone(this.value.current);if(this.options.slide){var o=this.change;s[0]+=4*o[0],s[1]+=4*o[1]}this.setTargetValue(s),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback(i)}},callAnimationCallback:function(){var t=this.value.current;this.options.snap&&this.options.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,t[0],t[1]),this.groupCopy(this.value.prev,t))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(t){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1],t)},animateWithRequestAnimationFrame:function(t){t?(this.timeOffset=this.timeStamp?t-this.timeStamp:0,this.timeStamp=t):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),s=[l.x-this.offset.wrapper[0]-this.offset.mouse[0],l.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(s,this.options.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.valuePrecision[0]||Math.abs(t[1])>this.valuePrecision[1]?(this.value.current[0]+=t[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=t[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var t="";return this.options.css3&&c.transform?(this.options.horizontal&&(t+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(t+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[c.transform]=t)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i),this.callTargetCallback()},setTargetValueByOffset:function(t,e){var i=this.getRatiosByOffsets(t),s=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,s),this.offset.target=this.getOffsetsByRatios(s)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(t[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(t[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getStepNumber:function(t){return this.getClosestStep(t)*(this.options.steps-1)+1},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,s=0;s<=this.options.steps-1;s++)Math.abs(this.stepRatios[s]-t)<i&&(i=Math.abs(this.stepRatios[s]-t),e=s);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&l.xDiff>l.yDiff||!this.options.vertical&&l.yDiff>l.xDiff}};for(var s=function(t,e){return function(){return t.apply(e,arguments)}},o=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},n=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},a=function(t){t||(t=window.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1},r=function(t){t||(t=window.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0},l={x:0,y:0,xDiff:0,yDiff:0,refresh:function(t){t||(t=window.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){var e=this.x,i=this.y;t.clientX||t.clientY?(this.x=t.clientX,this.y=t.clientY):(t.pageX||t.pageY)&&(this.x=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=t.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-e),this.yDiff=Math.abs(this.y-i)}},h={get:function(t){var e={left:0,top:0};return void 0!==t.getBoundingClientRect&&(e=t.getBoundingClientRect()),[e.left,e.top]}},c={transform:t("transform"),perspective:t("perspective"),backfaceVisibility:t("backfaceVisibility")},d=["webkit","moz"],u=window.requestAnimationFrame,p=window.cancelAnimationFrame,f=0;f<d.length&&!u;++f)u=window[d[f]+"RequestAnimationFrame"],p=window[d[f]+"CancelAnimationFrame"]||window[d[f]+"CancelRequestAnimationFrame"];return u||(u=function(t){return setTimeout(t,25)},p=clearTimeout),i}),function(t,e,i){function s(t,i){this.wrapper="string"==typeof t?e.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var s in i)this.options[s]=i[s];this.translateZ=this.options.HWCompositing&&r.hasPerspective?" translateZ(0)":"",this.options.useTransition=r.hasTransition&&this.options.useTransition,this.options.useTransform=r.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?r.ease[this.options.bounceEasing]||r.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,s){var o=e.createElement("div"),n=e.createElement("div");return s===!0&&(o.style.cssText="position:absolute;z-index:9999",n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),n.className="iScrollIndicator","h"==t?(s===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",n.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(s===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",n.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(n),o}function n(i,s){this.wrapper="string"==typeof s.el?e.querySelector(s.el):s.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in s)this.options[o]=s[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(r.addEvent(this.indicator,"touchstart",this),r.addEvent(t,"touchend",this)),this.options.disablePointer||(r.addEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.addEvent(t,r.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(r.addEvent(this.indicator,"mousedown",this),r.addEvent(t,"mouseup",this))),this.options.fade&&(this.wrapperStyle[r.style.transform]=this.scroller.translateZ,this.wrapperStyle[r.style.transitionDuration]=r.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var a=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},r=function(){function s(t){return a===!1?!1:""===a?t:a+t.charAt(0).toUpperCase()+t.substr(1)}var o={},n=e.createElement("div").style,a=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,s=e.length;s>i;i++)if(t=e[i]+"ransform",t in n)return e[i].substr(0,e[i].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,s){t.addEventListener(e,i,!!s)},o.removeEvent=function(t,e,i,s){t.removeEventListener(e,i,!!s)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(9).toUpperCase()+e.substr(10):e},o.momentum=function(t,e,s,o,n,a){var r,l,h=t-e,c=i.abs(h)/s;return a=void 0===a?6e-4:a,r=t+c*c/(2*a)*(0>h?-1:1),l=c/a,o>r?(r=n?o-n/2.5*(c/8):o,h=i.abs(r-t),l=h/c):r>0&&(r=n?n/2.5*(c/8):0,h=i.abs(t)+r,l=h/c),{destination:i.round(r),duration:l}};var r=s("transform");return o.extend(o,{hasTransform:r!==!1,hasPerspective:s("perspective")in n,hasTouch:"ontouchstart"in t,hasPointer:t.PointerEvent||t.MSPointerEvent,hasTransition:s("transition")in n}),o.isBadAndroid=/Android /.test(t.navigator.appVersion)&&!/Chrome\/\d/.test(t.navigator.appVersion),o.extend(o.style={},{transform:r,transitionTimingFunction:s("transitionTimingFunction"),transitionDuration:s("transitionDuration"),transitionDelay:s("transitionDelay"),transformOrigin:s("transformOrigin")}),o.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,s=.4;return 0===t?0:1==t?1:s*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),o.tap=function(t,i){var s=e.createEvent("Event");s.initEvent(i,!0,!0),s.pageX=t.pageX,s.pageY=t.pageY,t.target.dispatchEvent(s)},o.click=function(t){var i,s=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(s.tagName)||(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,s.screenX,s.screenY,s.clientX,s.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,s.dispatchEvent(i))},o}();s.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==r.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||r.eventType[t.type]===this.initiated)){!this.options.preventDefault||r.isBadAndroid||r.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,s=t.touches?t.touches[0]:t;this.initiated=r.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=r.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=s.pageX,this.pointY=s.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,s,o,n,a=t.touches?t.touches[0]:t,l=a.pageX-this.pointX,h=a.pageY-this.pointY,c=r.getTime();if(this.pointX=a.pageX,this.pointY=a.pageY,this.distX+=l,this.distY+=h,o=i.abs(this.distX),n=i.abs(this.distY),!(c-this.endTime>300&&10>o&&10>n)){if(this.directionLocked||this.options.freeScroll||(o>n+this.options.directionLockThreshold?this.directionLocked="h":n>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,h=this.hasVerticalScroll?h:0,e=this.x+l,s=this.y+h,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(s>0||s<this.maxScrollY)&&(s=this.options.bounce?this.y+h/3:s>0?0:this.maxScrollY),this.directionX=l>0?-1:0>l?1:0,this.directionY=h>0?-1:0>h?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,s),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&r.eventType[t.type]===this.initiated){this.options.preventDefault&&!r.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,s,o=(t.changedTouches?t.changedTouches[0]:t,r.getTime()-this.startTime),n=i.round(this.x),a=i.round(this.y),l=i.abs(n-this.startX),h=i.abs(a-this.startY),c=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=r.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(n,a),!this.moved)return this.options.tap&&r.tap(t,this.options.tap),this.options.click&&r.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&200>o&&100>l&&100>h)return void this._execEvent("flick");if(this.options.momentum&&300>o&&(e=this.hasHorizontalScroll?r.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:n,duration:0},s=this.hasVerticalScroll?r.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:a,duration:0},n=e.destination,a=s.destination,c=i.max(e.duration,s.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(n,a);this.currentPage=u,c=this.options.snapSpeed||i.max(i.max(i.min(i.abs(n-u.x),1e3),i.min(i.abs(a-u.y),1e3)),300),n=u.x,a=u.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}return n!=this.x||a!=this.y?((n>0||n<this.maxScrollX||a>0||a<this.maxScrollY)&&(d=r.ease.quadratic),void this.scrollTo(n,a,c,d)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),e==this.x&&i==this.y?!1:(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=r.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;i>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,s){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,s)},scrollTo:function(t,e,i,s){s=s||r.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&s.style?(this._transitionTimingFunction(s.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,s.fn)},scrollToElement:function(t,e,s,o,n){if(t=t.nodeType?t:this.scroller.querySelector(t)){var a=r.offset(t);a.left-=this.wrapperOffset.left,a.top-=this.wrapperOffset.top,s===!0&&(s=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),a.left-=s||0,a.top-=o||0,a.left=a.left>0?0:a.left<this.maxScrollX?this.maxScrollX:a.left,a.top=a.top>0?0:a.top<this.maxScrollY?this.maxScrollY:a.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-a.left),i.abs(this.y-a.top)):e,this.scrollTo(a.left,a.top,e,n)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[r.style.transitionDuration]=t+"ms",!t&&r.isBadAndroid&&(this.scrollerStyle[r.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[r.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition()},_initEvents:function(e){var i=e?r.removeEvent:r.addEvent,s=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(s,"mousemove",this),i(s,"mousecancel",this),i(s,"mouseup",this)),r.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,r.prefixPointerEvent("pointerdown"),this),i(s,r.prefixPointerEvent("pointermove"),this),i(s,r.prefixPointerEvent("pointercancel"),this),i(s,r.prefixPointerEvent("pointerup"),this)),r.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(s,"touchmove",this),i(s,"touchcancel",this),i(s,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,s=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(s=s[r.style.transform].split(")")[0].split(", "),e=+(s[12]||s[4]),i=+(s[13]||s[5])):(e=+s.left.replace(/[^-\d.]/g,""),i=+s.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){for(var e=r.indicators.length;e--;)t.call(r.indicators[e])}var e,i=this.options.interactiveScrollbars,s="string"!=typeof this.options.scrollbars,a=[],r=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),a.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:s,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),a.push(e))),this.options.indicators&&(a=a.concat(this.options.indicators));for(var l=a.length;l--;)this.indicators.push(new n(this,a[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){r.addEvent(this.wrapper,"wheel",this),r.addEvent(this.wrapper,"mousewheel",this),r.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){r.removeEvent(this.wrapper,"wheel",this),r.removeEvent(this.wrapper,"mousewheel",this),r.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,s,o,n,a=this;if(void 0===this.wheelTimeout&&a._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){a._execEvent("scrollEnd"),a.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,s=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,s=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,s=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=s=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=s=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,s*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=s,s=0),this.options.snap)return o=this.currentPage.pageX,
n=this.currentPage.pageY,e>0?o--:0>e&&o++,s>0?n--:0>s&&n++,void this.goToPage(o,n);o=this.x+i.round(this.hasHorizontalScroll?e:0),n=this.y+i.round(this.hasVerticalScroll?s:0),o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),n>0?n=0:n<this.maxScrollY&&(n=this.maxScrollY),this.scrollTo(o,n,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,s,o,n,a,r=0,l=0,h=0,c=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(s=i.round(c/2),o=i.round(d/2);h>-this.scrollerWidth;){for(this.pages[r]=[],t=0,n=0;n>-this.scrollerHeight;)this.pages[r][t]={x:i.max(h,this.maxScrollX),y:i.max(n,this.maxScrollY),width:c,height:d,cx:h-s,cy:n-o},n-=d,t++;h-=c,r++}else for(a=this.options.snap,t=a.length,e=-1;t>r;r++)(0===r||a[r].offsetLeft<=a[r-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),h=i.max(-a[r].offsetLeft,this.maxScrollX),n=i.max(-a[r].offsetTop,this.maxScrollY),s=h-i.round(a[r].offsetWidth/2),o=n-i.round(a[r].offsetHeight/2),this.pages[l][e]={x:h,y:n,width:a[r].offsetWidth,height:a[r].offsetHeight,cx:s,cy:o},h>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var s=0,o=this.pages.length,n=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);o>s;s++)if(t>=this.pages[s][0].cx){t=this.pages[s][0].x;break}for(o=this.pages[s].length;o>n;n++)if(e>=this.pages[0][n].cy){e=this.pages[0][n].y;break}return s==this.currentPage.pageX&&(s+=this.directionX,0>s?s=0:s>=this.pages.length&&(s=this.pages.length-1),t=this.pages[s][0].x),n==this.currentPage.pageY&&(n+=this.directionY,0>n?n=0:n>=this.pages[0].length&&(n=this.pages[0].length-1),e=this.pages[0][n].y),{x:t,y:e,pageX:s,pageY:n}},goToPage:function(t,e,s,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var n=this.pages[t][e].x,a=this.pages[t][e].y;s=void 0===s?this.options.snapSpeed||i.max(i.max(i.min(i.abs(n-this.x),1e3),i.min(i.abs(a-this.y),1e3)),300):s,this.currentPage={x:n,y:a,pageX:t,pageY:e},this.scrollTo(n,a,s,o)},next:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this.goToPage(i,s,t,e)},prev:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;i--,0>i&&this.hasVerticalScroll&&(i=0,s--),this.goToPage(i,s,t,e)},_initKeys:function(e){var i,s={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in s)this.options.keyBindings[i]=this.options.keyBindings[i]||s[i];r.addEvent(t,"keydown",this),this.on("destroy",function(){r.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,s=this.options.snap,o=s?this.currentPage.pageX:this.x,n=s?this.currentPage.pageY:this.y,a=r.getTime(),l=this.keyTime||0,h=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>a-l?i.min(this.keyAcceleration+h,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=s?1:this.wrapperWidth:n+=s?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=s?1:this.wrapperWidth:n-=s?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=s?this.pages.length-1:this.maxScrollX,n=s?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,n=0;break;case this.options.keyBindings.left:o+=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=s?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=s?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=s?1:5+this.keyAcceleration>>0;break;default:return}if(s)return void this.goToPage(o,n);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollY&&(n=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,n,0),this.keyTime=a}},_animate:function(t,e,i,s){function o(){var u,p,f,m=r.getTime();return m>=d?(n.isAnimating=!1,n._translate(t,e),void(n.resetPosition(n.options.bounceTime)||n._execEvent("scrollEnd"))):(m=(m-c)/i,f=s(m),u=(t-l)*f+l,p=(e-h)*f+h,n._translate(u,p),void(n.isAnimating&&a(o)))}var n=this,l=this.x,h=this.y,c=r.getTime(),d=c+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},n.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(r.removeEvent(this.indicator,"touchstart",this),r.removeEvent(this.indicator,r.prefixPointerEvent("pointerdown"),this),r.removeEvent(this.indicator,"mousedown",this),r.removeEvent(t,"touchmove",this),r.removeEvent(t,r.prefixPointerEvent("pointermove"),this),r.removeEvent(t,"mousemove",this),r.removeEvent(t,"touchend",this),r.removeEvent(t,r.prefixPointerEvent("pointerup"),this),r.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=r.getTime(),this.options.disableTouch||r.addEvent(t,"touchmove",this),this.options.disablePointer||r.addEvent(t,r.prefixPointerEvent("pointermove"),this),this.options.disableMouse||r.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,s,o,n=t.touches?t.touches[0]:t;r.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=n.pageX-this.lastPointX,this.lastPointX=n.pageX,i=n.pageY-this.lastPointY,this.lastPointY=n.pageY,s=this.x+e,o=this.y+i,this._pos(s,o),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),r.removeEvent(t,"touchmove",this),r.removeEvent(t,r.prefixPointerEvent("pointermove"),this),r.removeEvent(t,"mousemove",this),this.scroller.options.snap){var s=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-s.x),1e3),i.min(i.abs(this.scroller.y-s.y),1e3)),300);this.scroller.x==s.x&&this.scroller.y==s.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=s,this.scroller.scrollTo(s.x,s.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[r.style.transitionDuration]=t+"ms",!t&&r.isBadAndroid&&(this.indicatorStyle[r.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[r.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(r.addClass(this.wrapper,"iScrollBothScrollbars"),r.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(r.removeClass(this.wrapper,"iScrollBothScrollbars"),r.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[r.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,s=t?0:300;t=t?"1":"0",this.wrapperStyle[r.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),s)}}},s.utils=r,"undefined"!=typeof module&&module.exports?module.exports=s:t.IScroll=s}(window,document,Math),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e,s){var o,n,a,r=e.nodeName.toLowerCase();return"area"===r?(o=e.parentNode,n=o.name,e.href&&n&&"map"===o.nodeName.toLowerCase()?(a=t("img[usemap='#"+n+"']")[0],!!a&&i(a)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&n.length?n:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),o=isNaN(s);return(o||s>=0)&&e(i,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?a["inner"+i].call(this):this.each(function(){t(this).css(n,s(this,e)+"px")})},t.fn["outer"+i]=function(e,o){return"number"!=typeof e?a["outer"+i].call(this,e):this.each(function(){t(this).css(n,s(this,e,!0,o)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,o=t(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var o,n=t.ui[e].prototype;for(o in s)n.plugins[o]=n.plugins[o]||[],n.plugins[o].push([i,s[o]])},call:function(t,e,i,s){var o,n=t.plugins[e];if(n&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;n.length>o;o++)t.options[n[o][0]]&&n[o][1].apply(t.element,i)}};var s=0,o=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,o,n;for(n=0;null!=(o=i[n]);n++)try{s=t._data(o,"events"),s&&s.remove&&t(o).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var o,n,a,r,l={},h=e.split(".")[0];return e=e.split(".")[1],o=h+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},n=t[h][e],a=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new a(t,e)},t.extend(a,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,n=this._superApply;return this._super=t,this._superApply=o,e=s.apply(this,arguments),this._super=i,this._superApply=n,e}}()):void(l[e]=s)}),a.prototype=t.widget.extend(r,{widgetEventPrefix:n?r.widgetEventPrefix||e:e},l,{constructor:a,namespace:h,widgetName:e,widgetFullName:o}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,a,i._proto)}),delete n._childConstructors):i._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var i,s,n=o.call(arguments,1),a=0,r=n.length;r>a;a++)for(i in n[a])s=n[a][i],n[a].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(n){var a="string"==typeof n,r=o.call(arguments,1),l=this;return a?this.each(function(){var i,o=t.data(this,s);return"instance"===n?(l=o,!1):o?t.isFunction(o[n])&&"_"!==n.charAt(0)?(i=o[n].apply(o,r),i!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+n+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+n+"'")}):(r.length&&(n=t.widget.extend.apply(null,[n].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(n||{}),e._init&&e._init()):t.data(this,s,new i(n,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,o,n,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(o=a[e]=t.widget.extend({},this.options[e]),n=0;s.length-1>n;n++)o[s[n]]=o[s[n]]||{},o=o[s[n]];if(e=s.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var o,n=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=o=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,o=this.widget()),t.each(s,function(s,a){function r(){return e||n.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?n[a]:a).apply(n,arguments):void 0}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+n.eventNamespace,c=l[2];c?o.delegate(c,h,r):i.bind(h,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var o,n,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],n=i.originalEvent)for(o in n)o in i||(i[o]=n[o]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,o,n){"string"==typeof o&&(o={effect:o});var a,r=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=n,o.delay&&s.delay(o.delay),a&&t.effects&&t.effects.effect[r]?s[e](o):r!==e&&s[r]?s[r](o.duration,o.easing,n):s.queue(function(i){t(this)[e](),n&&n.call(s[0]),i()})}}),t.widget;var n=!1;t(document).mouseup(function(){n=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,o="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),n=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,n,a=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=s.children()[0];return t("body").append(s),e=n.offsetWidth,s.css("overflow","scroll"),i=n.offsetWidth,e===i&&(i=s[0].clientWidth),s.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,n="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:n?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s||o?i.width():i.outerWidth(),height:s||o?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=t.extend({},o);var p,m,g,v,b,y,w=t(o.of),x=t.position.getWithinInfo(o.within),_=t.position.getScrollInfo(x),S=(o.collision||"flip").split(" "),C={};return y=s(w),w[0].preventDefault&&(o.at="left top"),m=y.width,g=y.height,v=y.offset,b=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):c.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=c.test(i[1])?i[1]:"center",t=d.exec(i[0]),e=d.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],o[this]=[u.exec(i[0])[0],u.exec(i[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),p=e(C.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var s,h,c=t(this),d=c.outerWidth(),u=c.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),T=d+f+i(this,"marginRight")+_.width,P=u+y+i(this,"marginBottom")+_.height,k=t.extend({},b),$=e(C.my,c.outerWidth(),c.outerHeight());"right"===o.my[0]?k.left-=d:"center"===o.my[0]&&(k.left-=d/2),"bottom"===o.my[1]?k.top-=u:"center"===o.my[1]&&(k.top-=u/2),k.left+=$[0],k.top+=$[1],n||(k.left=l(k.left),k.top=l(k.top)),s={marginLeft:f,marginTop:y},t.each(["left","top"],function(e,i){t.ui.position[S[e]]&&t.ui.position[S[e]][i](k,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:u,collisionPosition:s,collisionWidth:T,collisionHeight:P,offset:[p[0]+$[0],p[1]+$[1]],my:o.my,at:o.at,within:x,elem:c})}),o.using&&(h=function(t){var e=v.left-k.left,i=e+m-d,s=v.top-k.top,n=s+g-u,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:k.left,top:k.top,width:d,height:u},horizontal:0>i?"left":e>0?"right":"center",vertical:0>n?"top":s>0?"bottom":"middle"};d>m&&m>r(e+i)&&(l.horizontal="center"),u>g&&g>r(s+n)&&(l.vertical="middle"),l.important=a(r(e),r(i))>a(r(s),r(n))?"horizontal":"vertical",o.using.call(this,t,l)}),c.offset(t.extend(k,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,o=s.isWindow?s.scrollLeft:s.offset.left,n=s.width,r=t.left-e.collisionPosition.marginLeft,l=o-r,h=r+e.collisionWidth-n-o;e.collisionWidth>n?l>0&&0>=h?(i=t.left+l+e.collisionWidth-n-o,t.left+=l-i):t.left=h>0&&0>=l?o:l>h?o+n-e.collisionWidth:o:l>0?t.left+=l:h>0?t.left-=h:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,o=s.isWindow?s.scrollTop:s.offset.top,n=e.within.height,r=t.top-e.collisionPosition.marginTop,l=o-r,h=r+e.collisionHeight-n-o;e.collisionHeight>n?l>0&&0>=h?(i=t.top+l+e.collisionHeight-n-o,t.top+=l-i):t.top=h>0&&0>=l?o:l>h?o+n-e.collisionHeight:o:l>0?t.top+=l:h>0?t.top-=h:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,o=e.within,n=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,d=h+e.collisionWidth-a-l,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+u+p+f+e.collisionWidth-a-n,(0>i||r(c)>i)&&(t.left+=u+p+f)):d>0&&(s=t.left-e.collisionPosition.marginLeft+u+p+f-l,(s>0||d>r(s))&&(t.left+=u+p+f))},top:function(t,e){var i,s,o=e.within,n=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,d=h+e.collisionHeight-a-l,u="top"===e.my[1],p=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];
0>c?(s=t.top+p+f+m+e.collisionHeight-a-n,(0>s||r(c)>s)&&(t.top+=p+f+m)):d>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,(i>0||d>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,o,a,r=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(r?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(l),i=r||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=t(l).offset().left,n=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position,t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),o=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),s=i[0],void(s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,o,n,a=this.options,r=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),a.grid&&(o=a.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-a.grid[1]:o+a.grid[1]:o,n=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?n-this.offset.click.left>=i[0]||n-this.offset.click.left>i[2]?n:n-this.offset.click.left>=i[0]?n-a.grid[0]:n+a.grid[0]:n),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var o=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i,s){var o=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,i,s){t.each(s.sortables,function(){var o=!1,n=this;n.positionAbs=s.positionAbs,n.helperProportions=s.helperProportions,n.offset.click=s.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,s._parent=i.helper.parent(),n.currentItem=i.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return i.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=s.offset.click.top,n.offset.click.left=s.offset.click.left,n.offset.parent.left-=s.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=s.offset.parent.top-n.offset.parent.top,s._trigger("toSortable",e),s.dropped=n.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,n.fromOutside=s),n.currentItem&&(n._mouseDrag(e),i.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var o=t("body"),n=s.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,i,s){var o=s.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,i,s){var o=s.options;o._opacity&&t(i.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var o=s.options,n=!1,a=s.scrollParentNotHidden[0],r=s.document[0];a!==r&&"HTML"!==a.tagName?(o.axis&&"x"===o.axis||(s.overflowOffset.top+a.offsetHeight-e.pageY<o.scrollSensitivity?a.scrollTop=n=a.scrollTop+o.scrollSpeed:e.pageY-s.overflowOffset.top<o.scrollSensitivity&&(a.scrollTop=n=a.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(s.overflowOffset.left+a.offsetWidth-e.pageX<o.scrollSensitivity?a.scrollLeft=n=a.scrollLeft+o.scrollSpeed:e.pageX-s.overflowOffset.left<o.scrollSensitivity&&(a.scrollLeft=n=a.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(r).scrollTop()<o.scrollSensitivity?n=t(r).scrollTop(t(r).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<o.scrollSensitivity&&(n=t(r).scrollTop(t(r).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(r).scrollLeft()<o.scrollSensitivity?n=t(r).scrollLeft(t(r).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<o.scrollSensitivity&&(n=t(r).scrollLeft(t(r).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var o=s.options;s.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var o,n,a,r,l,h,c,d,u,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,b=i.offset.top,y=b+s.helperProportions.height;for(u=s.snapElements.length-1;u>=0;u--)l=s.snapElements[u].left-s.margins.left,h=l+s.snapElements[u].width,c=s.snapElements[u].top-s.margins.top,d=c+s.snapElements[u].height,l-m>v||g>h+m||c-m>y||b>d+m||!t.contains(s.snapElements[u].item.ownerDocument,s.snapElements[u].item)?(s.snapElements[u].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(o=m>=Math.abs(c-y),n=m>=Math.abs(d-b),a=m>=Math.abs(l-v),r=m>=Math.abs(h-g),o&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:d,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left)),p=o||n||a||r,"outer"!==f.snapMode&&(o=m>=Math.abs(c-b),n=m>=Math.abs(d-y),a=m>=Math.abs(l-g),r=m>=Math.abs(h-v),o&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),n&&(i.position.top=s._convertPositionTo("relative",{top:d-s.helperProportions.height,left:0}).top),a&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left)),!s.snapElements[u].snapping&&(o||n||a||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[u].item})),s.snapElements[u].snapping=o||n||a||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var o,n=s.options,a=t.makeArray(t(n.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});a.length&&(o=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var o=t(i.helper),n=s.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,i,s){var o=s.options;o._zIndex&&t(i.helper).css("zIndex",o._zIndex)}}),t.ui.draggable,t.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&(this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e))))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,o=this.headers.index(e.target),n=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(o+1)%s];break;case i.LEFT:case i.UP:n=this.headers[(o-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[s-1]}n&&(t(e.target).attr("tabIndex",-1),t(n).attr("tabIndex",0),n.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,s=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),s=e.next(),o=s.uniqueId().attr("id");e.attr("aria-controls",o),s.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===s?(e=o.height(),this.element.siblings(":visible").each(function(){var i=t(this),s=i.css("position");"absolute"!==s&&"fixed"!==s&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,o=t(e.currentTarget),n=o[0]===s[0],a=n&&i.collapsible,r=a?t():o.next(),l=s.next(),h={oldHeader:s,oldPanel:l,newHeader:a?t():o,newPanel:r};e.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=a?!1:this.headers.index(o),this.active=n?t():o,this._toggle(h),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-hidden":"true"}),s.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&s.length?s.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var s,o,n,a=this,r=0,l=t.css("box-sizing"),h=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=h&&c.down||c,u=function(){a._toggleComplete(i)};return"number"==typeof d&&(n=d),"string"==typeof d&&(o=d),o=o||d.easing||c.easing,n=n||d.duration||c.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(this.hideProps,{duration:n,easing:o,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:n,easing:o,complete:u,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(r+=i.now):"content"!==a.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-r),r=0)}})):e.animate(this.hideProps,n,o,u):t.animate(this.showProps,n,o,u)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}});var a="ui-effects-",r=t;t.effects={effect:{}},function(t,e){function i(t,e,i){var s=d[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),o=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,n){var a,r=n.re.exec(i),l=r&&n.parse(r),h=n.space||"rgba";return l?(a=s[h](l),s[c[h].cache]=a[c[h].cache],o=s._rgba=a._rgba,!1):e}),o.length?("0,0,0,0"===o.join()&&t.extend(o,n.transparent),s):n[i]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var n,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,o){return new t.Color.fn.parse(e,i,s,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(o,a,r,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(a),a=e);var d=this,u=t.type(o),p=this._rgba=[];return a!==e&&(o=[o,a,r,l],u="array"),"string"===u?this.parse(s(o)||n._default):"array"===u?(f(c.rgba.props,function(t,e){p[e.idx]=i(o[e.idx],e)}),this):"object"===u?(o instanceof h?f(c,function(t,e){o[e.cache]&&(d[e.cache]=o[e.cache].slice())}):f(c,function(e,s){var n=s.cache;f(s.props,function(t,e){if(!d[n]&&s.to){if("alpha"===t||null==o[t])return;d[n]=s.to(d._rgba)}d[n][e.idx]=i(o[t],e,!0)}),d[n]&&0>t.inArray(null,d[n].slice(0,3))&&(d[n][3]=1,s.from&&(d._rgba=s.from(d[n])))}),this):e},is:function(t){var i=h(t),s=!0,o=this;return f(c,function(t,n){var a,r=i[n.cache];return r&&(a=o[n.cache]||n.to&&n.to(o._rgba)||[],f(n.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),o=s._space(),n=c[o],a=0===this.alpha()?h("transparent"):this,r=a[n.cache]||n.to(a._rgba),l=r.slice();return s=s[n.cache],f(n.props,function(t,o){var n=o.idx,a=r[n],h=s[n],c=d[o.type]||{};null!==h&&(null===a?l[n]=h:(c.mod&&(h-a>c.mod/2?a+=c.mod:a-h>c.mod/2&&(a-=c.mod)),l[n]=i((h-a)*e+a,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),o=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*o[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,o=t[1]/255,n=t[2]/255,a=t[3],r=Math.max(s,o,n),l=Math.min(s,o,n),h=r-l,c=r+l,d=.5*c;
return e=l===r?0:s===r?60*(o-n)/h+360:o===r?60*(n-s)/h+120:60*(s-o)/h+240,i=0===h?0:.5>=d?h/c:h/(2-c),[Math.round(e)%360,i,d,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*o(r,a,e+1/3)),Math.round(255*o(r,a,e)),Math.round(255*o(r,a,e-1/3)),n]},f(c,function(s,o){var n=o.props,a=o.cache,l=o.to,c=o.from;h.fn[s]=function(s){if(l&&!this[a]&&(this[a]=l(this._rgba)),s===e)return this[a].slice();var o,r=t.type(s),d="array"===r||"object"===r?s:arguments,u=this[a].slice();return f(n,function(t,e){var s=d["object"===r?t:e.idx];null==s&&(s=u[e.idx]),u[e.idx]=i(s,e)}),c?(o=h(c(u)),o[a]=u,o):h(u)},f(n,function(e,i){h.fn[e]||(h.fn[e]=function(o){var n,a=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&i.empty?this:("string"===a&&(n=r.exec(o),n&&(o=c+parseFloat(n[2])*("+"===n[1]?1:-1))),h[i.idx]=o,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,o){var n,a,r="";if("transparent"!==o&&("string"!==t.type(o)||(n=s(o)))){if(o=h(n||o),!u.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}o=o.blend(r&&"transparent"!==r?r:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(r),function(){function e(e){var i,s,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,n={};if(o&&o.length&&o[0]&&o[o[0]])for(s=o.length;s--;)i=o[s],"string"==typeof o[i]&&(n[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(n[i]=o[i]);return n}function i(e,i){var s,n,a={};for(s in i)n=i[s],e[s]!==n&&(o[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(a[s]=n));return a}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(r.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(o,n,a,r){var l=t.speed(n,a,r);return this.queue(function(){var n,a=t(this),r=a.attr("class")||"",h=l.children?a.find("*").addBack():a;h=h.map(function(){var i=t(this);return{el:i,start:e(this)}}),n=function(){t.each(s,function(t,e){o[e]&&a[e+"Class"](o[e])})},n(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){n(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,o,n){return s?t.effects.animateClass.call(this,{add:i},s,o,n):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,o,n){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,o,n):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,s,o,n,a){return"boolean"==typeof s||void 0===s?o?t.effects.animateClass.call(this,s?{add:i}:{remove:i},o,n,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},s,o,n)}}(t.fn.toggleClass),switchClass:function(e,i,s,o,n){return t.effects.animateClass.call(this,{add:i,remove:e},s,o,n)}})}(),function(){function e(e,i,s,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=s,s=i,i={}),t.isFunction(s)&&(o=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=o||i.complete,e}function i(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;e.length>i;i++)null!==e[i]&&t.data(a+e[i],t[0].style[e[i]])},restore:function(t,e){var i,s;for(s=0;e.length>s;s++)null!==e[s]&&(i=t.data(a+e[s]),void 0===i&&(i=""),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},n=document.activeElement;try{n.id}catch(a){n=document.body}return e.wrap(s),(e[0]===n||t.contains(e[0],n))&&t(n).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,o){return o=o||{},t.each(i,function(t,i){var n=e.cssUnit(i);n[0]>0&&(o[i]=n[0]*s+n[1])}),o}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(n)&&n.call(o[0]),t.isFunction(e)&&e()}var o=t(this),n=s.complete,r=s.mode;(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),i()):a.call(o[0],s,i)}var s=e.apply(this,arguments),o=s.mode,n=s.queue,a=t.effects.effect[s.effect];return t.fx.off||!a?o?this[o](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):n===!1?this.each(i):this.queue(n||"fx",i)},show:function(t){return function(s){if(i(s))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(s){if(i(s))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(s){if(i(s)||"boolean"==typeof s)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}(),t.effects,t.effects.effect.blind=function(e,i){var s,o,n,a=t(this),r=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(a,e.mode||"hide"),d=e.direction||"up",u=r.test(d),p=u?"height":"width",f=u?"top":"left",m=l.test(d),g={},v="show"===c;a.parent().is(".ui-effects-wrapper")?t.effects.save(a.parent(),h):t.effects.save(a,h),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),o=s[p](),n=parseFloat(s.css(f))||0,g[p]=v?o:0,m||(a.css(u?"bottom":"right",0).css(u?"top":"left","auto").css({position:"absolute"}),g[f]=v?n:o+n),v&&(s.css(p,0),m||s.css(f,n+o)),s.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),t.effects.restore(a,h),t.effects.removeWrapper(a),i()}})},t.effects.effect.bounce=function(e,i){var s,o,n,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),h="hide"===l,c="show"===l,d=e.direction||"up",u=e.distance,p=e.times||5,f=2*p+(c||h?1:0),m=e.duration/f,g=e.easing,v="up"===d||"down"===d?"top":"left",b="up"===d||"left"===d,y=a.queue(),w=y.length;for((c||h)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),u||(u=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(n={opacity:1},n[v]=0,a.css("opacity",0).css(v,b?2*-u:2*u).animate(n,m,g)),h&&(u/=Math.pow(2,p-1)),n={},n[v]=0,s=0;p>s;s++)o={},o[v]=(b?"-=":"+=")+u,a.animate(o,m,g).animate(n,m,g),u=h?2*u:u/2;h&&(o={opacity:0},o[v]=(b?"-=":"+=")+u,a.animate(o,m,g)),a.queue(function(){h&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,f+1))),a.dequeue()},t.effects.effect.clip=function(e,i){var s,o,n,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",d="vertical"===c,u=d?"height":"width",p=d?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),o="IMG"===a[0].tagName?s:a,n=o[u](),h&&(o.css(u,0),o.css(p,n/2)),f[u]=h?n:0,f[p]=h?0:n/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})},t.effects.effect.drop=function(e,i){var s,o=t(this),n=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(o,e.mode||"hide"),r="show"===a,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:r?1:0};t.effects.save(o,n),o.show(),t.effects.createWrapper(o),s=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&o.css("opacity",0).css(h,"pos"===c?-s:s),d[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,n),t.effects.removeWrapper(o),i()}})},t.effects.effect.explode=function(e,i){function s(){y.push(this),y.length===d*u&&o()}function o(){p.css({visibility:"visible"}),t(y).remove(),m||p.hide(),i()}var n,a,r,l,h,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,u=d,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/u),b=Math.ceil(p.outerHeight()/d),y=[];for(n=0;d>n;n++)for(l=g.top+n*b,c=n-(d-1)/2,a=0;u>a;a++)r=g.left+a*v,h=a-(u-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-n*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:r+(m?h*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:r+(m?0:h*v),top:l+(m?0:c*b),opacity:m?1:0},e.duration||500,e.easing,s)},t.effects.effect.fade=function(e,i){var s=t(this),o=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var s,o,n=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(n,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,d=/([0-9]+)%/.exec(c),u=!!e.horizFirst,p=l!==u,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(n,a),n.show(),s=t.effects.createWrapper(n).css({overflow:"hidden"}),o=p?[s.width(),s.height()]:[s.height(),s.width()],d&&(c=parseInt(d[1],10)/100*o[h?0:1]),l&&s.css(u?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?o[0]:c,v[f[1]]=l?o[1]:0,s.animate(g,m,e.easing).animate(v,m,e.easing,function(){h&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()})},t.effects.effect.highlight=function(e,i){var s=t(this),o=["backgroundImage","backgroundColor","opacity"],n=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===n&&(a.opacity=0),t.effects.save(s,o),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===n&&s.hide(),t.effects.restore(s,o),i()}})},t.effects.effect.size=function(e,i){var s,o,n,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),b=f?r:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||y,a.to=e.from||s):(a.from=e.from||("show"===p?y:s),a.to=e.to||("hide"===p?y:s)),n={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},("box"===m||"both"===m)&&(n.from.y!==n.to.y&&(b=b.concat(d),a.from=t.effects.setTransition(a,d,n.from.y,a.from),a.to=t.effects.setTransition(a,d,n.to.y,a.to)),n.from.x!==n.to.x&&(b=b.concat(u),a.from=t.effects.setTransition(a,u,n.from.x,a.from),a.to=t.effects.setTransition(a,u,n.to.x,a.to))),("content"===m||"both"===m)&&n.from.y!==n.to.y&&(b=b.concat(c).concat(h),a.from=t.effects.setTransition(a,c,n.from.y,a.from),a.to=t.effects.setTransition(a,c,n.to.y,a.to)),t.effects.save(a,b),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(o=t.effects.getBaseline(g,s),a.from.top=(s.outerHeight-a.outerHeight())*o.y,a.from.left=(s.outerWidth-a.outerWidth())*o.x,a.to.top=(s.outerHeight-a.to.outerHeight)*o.y,a.to.left=(s.outerWidth-a.to.outerWidth)*o.x),a.css(a.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(c),u=u.concat(["marginLeft","marginRight"]),h=r.concat(d).concat(u),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:s.height*n.from.y,width:s.width*n.from.x,outerHeight:s.outerHeight*n.from.y,outerWidth:s.outerWidth*n.from.x},i.to={height:s.height*n.to.y,width:s.width*n.to.x,outerHeight:s.height*n.to.y,outerWidth:s.width*n.to.x},n.from.y!==n.to.y&&(i.from=t.effects.setTransition(i,d,n.from.y,i.from),i.to=t.effects.setTransition(i,d,n.to.y,i.to)),n.from.x!==n.to.x&&(i.from=t.effects.setTransition(i,u,n.from.x,i.from),i.to=t.effects.setTransition(i,u,n.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,b),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),o=t?a.to.left:a.to.top;return"auto"===i?o+"px":s+o+"px"})})),t.effects.removeWrapper(a),i()}})},t.effects.effect.scale=function(e,i){var s=t(this),o=t.extend(!0,{},e),n=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===n?0:100),r=e.direction||"both",l=e.origin,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==n&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===n?{height:0,width:0,outerHeight:0,outerWidth:0}:h),o.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},o.fade&&("show"===n&&(o.from.opacity=0,o.to.opacity=1),"hide"===n&&(o.from.opacity=1,o.to.opacity=0)),s.effect(o)},t.effects.effect.puff=function(e,i){var s=t(this),o=t.effects.setMode(s,e.mode||"hide"),n="hide"===o,a=parseInt(e.percent,10)||150,r=a/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:n?a:100,from:n?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),s.effect(e)},t.effects.effect.pulsate=function(e,i){var s,o=t(this),n=t.effects.setMode(o,e.mode||"show"),a="show"===n,r="hide"===n,l=a||"hide"===n,h=2*(e.times||5)+(l?1:0),c=e.duration/h,d=0,u=o.queue(),p=u.length;for((a||!o.is(":visible"))&&(o.css("opacity",0).show(),d=1),s=1;h>s;s++)o.animate({opacity:d},c,e.easing),d=1-d;o.animate({opacity:d},c,e.easing),o.queue(function(){r&&o.hide(),i()}),p>1&&u.splice.apply(u,[1,0].concat(u.splice(p,h+1))),o.dequeue()},t.effects.effect.shake=function(e,i){var s,o=t(this),n=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,d=Math.round(e.duration/c),u="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=o.queue(),b=v.length;for(t.effects.save(o,n),o.show(),t.effects.createWrapper(o),f[u]=(p?"-=":"+=")+l,m[u]=(p?"+=":"-=")+2*l,g[u]=(p?"-=":"+=")+2*l,o.animate(f,d,e.easing),s=1;h>s;s++)o.animate(m,d,e.easing).animate(g,d,e.easing);o.animate(m,d,e.easing).animate(f,d/2,e.easing).queue(function(){"hide"===a&&o.hide(),t.effects.restore(o,n),t.effects.removeWrapper(o),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),o.dequeue()},t.effects.effect.slide=function(e,i){var s,o=t(this),n=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(o,e.mode||"show"),r="show"===a,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};t.effects.save(o,n),o.show(),s=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),r&&o.css(h,c?isNaN(s)?"-"+s:-s:s),d[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,o.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&o.hide(),t.effects.restore(o,n),t.effects.removeWrapper(o),i()}})},t.effects.effect.transfer=function(e,i){var s=t(this),o=t(e.to),n="fixed"===o.css("position"),a=t("body"),r=n?a.scrollTop():0,l=n?a.scrollLeft():0,h=o.offset(),c={top:h.top-r,left:h.left-l,height:o.innerHeight(),width:o.innerWidth()},d=s.offset(),u=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:d.top-r,left:d.left-l,height:s.innerHeight(),width:s.innerWidth(),position:n?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){u.remove(),i()})}}),function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],s=document.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(s)}}if(t.support.touch="ontouchend"in document,t.support.touch){var i,s=t.ui.mouse.prototype,o=s._mouseInit,n=s._mouseDestroy;s._touchStart=function(t){var s=this;!i&&s._mouseCapture(t.originalEvent.changedTouches[0])&&(i=!0,s._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},s._touchMove=function(t){i&&(this._touchMoved=!0,e(t,"mousemove"))},s._touchEnd=function(t){i&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),i=!1)},s._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)},s._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),n.call(e)}}}(jQuery),function(){"use strict";function t(){function t(){function t(t,i){function s(t){var i=1===(o=1-o)?"width":"height";return Math.floor(Number(t)*e[i])}var o=0;l[i].coords=t.split(",").map(s).join(",")}var e={width:c.width/c.naturalWidth,height:c.height/c.naturalHeight};h.forEach(t)}function e(t){return t.coords.replace(/ *, */g,",").replace(/ +/g,",")}function i(){clearTimeout(d),d=setTimeout(t,250)}function s(){c.width===c.naturalWidth&&c.height===c.naturalHeight||t()}function o(){c.addEventListener("onload",t,!1),window.addEventListener("focus",t,!1),window.addEventListener("resize",i,!1),document.addEventListener("fullscreenchange",t,!1)}function n(){return"function"==typeof r._resize}function a(){l=r.getElementsByTagName("area"),h=Array.prototype.map.call(l,e),c=document.querySelector('img[usemap="#'+r.name+'"]'),r._resize=t}var r=this,l=null,h=null,c=null,d=null;n()?r._resize():(a(),o(),s())}function e(){function e(e){if(!e.tagName)throw new TypeError("Object is not a valid DOM element");if("MAP"!==e.tagName.toUpperCase())throw new TypeError("Expected <MAP> tag, found <"+e.tagName+">.");t.call(e)}return function(t){switch(typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"map"),e);break;case"object":e(t);break;default:throw new TypeError("Unexpected data type ("+typeof t+").")}}}"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e():window.imageMapResize=e(),"jQuery"in window&&(jQuery.fn.imageMapResize=function(){return this.filter("map").each(t).end()})}();var VolvoXC90=VolvoXC90||{};VolvoXC90.globalVaribles={helpMode:!0,$componentWrapper:$(".js-touch-screen-demo"),$mainWrapper:$(".touch-screen-wrapper"),$touchScreen:$(".js-touch-screen"),$singleContactScreen:$(".js-contact-single"),contactList:[{contactId:1,contactPhoto:"img_med_default_contact_S4.png",contactName:"Emelie Bergqvist",contactNumber:"07244681367",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07020087631"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"0352365219"},{numberId:3,numberType:textDb.label_generic_phone_0012,otherNumber:"07405583028"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Björkvägen 3 <br/> GULLBRANDSTORP <br/> 310 41 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Karlsängen 45 <br/> ÖSMO <br/> 148 00 Sweden"}],contactUrl:"TopTweeter.com"},{contactId:2,contactPhoto:"img_med_default_contact_S4.png",contactName:"Elliott Nordin",contactNumber:"05433517372",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07433517372"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"02464859219"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07154035866"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Hålebäcksvägen 89 <br> BJURSÅS <br> 790 21 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Långlöt 71 <br> BYXELKROK <br> 380 75 Sweden"}]},{contactId:3,contactPhoto:"img_med_default_contact_S4.png",contactName:"Gladys Beauford",contactNumber:"06505647810",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07505647810"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"02518042962"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07550909739"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Ängsv 66 <br> ÄLVDALEN <br> 796 00 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Granträsk 26 <br> ARBOGA <br> 732 22 Sweden"}]},{contactId:4,contactPhoto:"img_med_default_contact_S4.png",contactName:"Hoda Svensson",contactNumber:"04095494133",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07095494133"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"0364648577"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07782887716"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Västerviksgatan 56 <br> VISINGSÖ <br> 560 34 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Hagag 37 <br> TÄLLBERG <br> 793 63 Sweden"}]},{contactId:5,contactPhoto:"img_med_default_contact_S4.png",contactName:"Sharon Peace",contactNumber:"08581463765",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07581463765"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"09113646164"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07225140293"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Lidbovägen 15 <br> JÄVREBYN <br> 940 13 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Skolspåret 49 <br> LÄRBRO <br> 620 34 Sweden"}]},{contactId:6,contactPhoto:"img_med_default_contact_S4.png",contactName:"Tea Mæle",contactNumber:"07350022373",contactNumbers:[{numberId:1,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07350022373"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"05333538515"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07757137458"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Gulleråsen Västabäcksgatu 52 <br> VÄRMLANDS NYSÄTER <br> 660 30 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Utveda 10 <br> SKÅNES FAGERHULT <br> 280 40 Sweden"}]},{contactId:7,contactPhoto:"img_med_default_contact_S4.png",contactName:"Tintin Samuelsson",contactNumber:"09667431966",contactNumbers:[{numberId:2,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07667431966"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"07342949780"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07293814493"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Tuvvägen 66 <br> FRILLESÅS <br> 430 30 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Gökst 23 <br> KLÄSSBOL <br> 671 96 Sweden"}]},{contactId:8,contactPhoto:"img_med_default_contact_S4.png",contactName:"Gary Roberts",contactNumber:"04256764324",contactNumbers:[{numberId:2,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07256764324"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"03035335099"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07796882541"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Eriksbo Västergärde 92 <br> HISINGS BACKA <br> 422 10 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Eggelstad 72 <br> BOLIDEN <br> 936 00 Sweden"}]},{contactId:9,contactPhoto:"img_med_default_contact_S4.png",contactName:"Hedvig Forsberg",contactNumber:"07873965420",contactNumbers:[{numberId:2,numberType:textDb.label_popup_text_phone_0002,otherNumber:"07873965420"},{numberId:2,numberType:textDb.label_generic_phone_0011,otherNumber:"0167100365"},{numberId:2,numberType:textDb.label_generic_phone_0012,otherNumber:"07187269188"}],contactAddress:[{addressType:textDb.label_generic_phone_0011,addressText:"Kläppinge 72 KVICKSUND 640 45 Sweden"},{addressType:textDb.label_generic_phone_0012,addressText:"Främsteby Karlsborg 53 VALLA 640 23 Sweden"}]}]},VolvoXC90.touchScreenLoader=function(t){var e=VolvoXC90.globalVaribles.$componentWrapper,i={$loader:e.find(".touch-screen-loader")},s=function(){e.removeClass("no-js"),e.addClass("is-loading")},o=function(){e.removeClass("is-loading"),VolvoXC90.helpMode.startGuide("home")};return i.showApp=o,i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.globalModule=function(t){var e=VolvoXC90.globalVaribles.$componentWrapper,i={$demoMessage:e.find(".js-demo-message"),$demoElements:e.find(".js-demo"),$topSlider:"",topSliderPosition:0,$closeTopSlider:e.find(".js-close-top-slider"),$climateControl:e.find(".js-climate-control"),$openClimateButton:e.find(".js-open-climate"),$closeClimateButton:e.find(".js-close-climate"),$keypadScreen:e.find(".js-keypad-screen"),$dragHandle:e.find(".js-drag-handle"),$settingsSlide:e.find(".settings-slide"),$blackFade:e.find(".black-fade")},s=function(){i.$demoElements.on("click",function(){i.showDemoMessage()}),i.$dragHandle.on("click",function(){var t=i.$topSlider[0].offsetTop,e=i.$topSlider[0].clientHeight;i.$topSlider[0];0===t?n():t===e?a():i.topSliderPosition>0?a():n()}),i.$closeTopSlider.on("click",function(){a()}),i.$openClimateButton.on("click",function(t){i.$openClimateButton.addClass("hidden"),i.$climateControl.removeClass("is-hidden"),setTimeout(function(){i.$closeClimateButton.removeClass("hidden")},400)}),i.$closeClimateButton.on("click",function(){i.$closeClimateButton.addClass("hidden"),i.$climateControl.addClass("fade-out"),setTimeout(function(){i.$climateControl.addClass("is-hidden").removeClass("fade-out"),i.$openClimateButton.removeClass("hidden")},400)})};i.showDemoMessage=function(){i.$demoMessage.is(":hidden")&&(i.$demoMessage.show(),i.$demoMessage.animate({top:0}),setTimeout(function(){i.$demoMessage.find(".highlight-block").fadeIn(500).fadeOut(500)},100),setTimeout(function(){i.$demoMessage.animate({top:"-2.5em"},function(){i.$demoMessage.hide()})},2500))},i.showUpperSlide=function(){};var o=function(){i.$topSlider=i.$settingsSlide.draggable({axis:"y",containment:"parent",start:function(){i.$blackFade.css("display","block")},stop:function(e,i){var s=(t(i.helper[0]),e.pageY/2),o=i.offset.top;s>o&&(i.offset.top=s-o)},drag:function(t,e){elementHeight=e.helper[0].clientHeight,elementPosition=e.position.top;var s=parseFloat((elementPosition/elementHeight).toFixed(2)),o=parseInt(100*s);o>=80&&(s=.8),elementPosition<elementHeight?(i.$blackFade.css("opacity",s),0===s?i.$blackFade.css("display","none"):i.$blackFade.css("display","block")):i.$blackFade.css("opacity",.8),i.topSliderPosition=e.originalPosition.top}})},n=function(){i.$topSlider.animate({top:i.$topSlider.height(),duration:1e3},{start:function(t,e){i.$blackFade.css("display","block"),i.$blackFade.animate({opacity:.8,duration:1e3})}})},a=function(){i.$topSlider.animate({top:0,duration:1e3},{start:function(t,e){i.$blackFade.animate({opacity:0,duration:1e3}),i.$blackFade.css("display","none")}})};return i.replaceTextStrings=function(t,e){e?_.each(t,function(t,i){var s=i,o=e.find("[data-string-id='"+s+"']");o.html(t)}):_.each(t,function(t,e){var i=e,s=VolvoXC90.globalVaribles.$mainWrapper.find("[data-string-id='"+i+"']");s.html(t)})},i._initialize=function(){s(),o(),e.find("map").imageMapResize(),i.replaceTextStrings(textDb)},i}(jQuery),VolvoXC90.sliderModule=function(t){var e={mainSlider:!1,startApplicationGuide:!0},i=function(){var t=!!window.ActiveXObject&&+/msie\s(\d+)/i.exec(navigator.userAgent)[1]||NaN;e.mainSlider&&(9>=t||e.mainSlider.on("slideChangeStart",function(){
1==e.mainSlider.activeIndex?VolvoXC90.globalVaribles.$touchScreen.addClass("is-home-screen"):VolvoXC90.globalVaribles.$touchScreen.removeClass("is-home-screen"),e.startApplicationGuide&&2==e.mainSlider.activeIndex&&(VolvoXC90.helpMode.startGuide("applications"),e.startApplicationGuide=!1)}))},s=function(){var t=!!window.ActiveXObject&&+/msie\s(\d+)/i.exec(navigator.userAgent)[1]||NaN;9>=t?(document.documentElement.className+=" lt-ie9 ie"+t,e.mainSlider=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,initialSlide:1,threshold:20,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",onSlideChangeStart:function(t){1==e.mainSlider.activeIndex?VolvoXC90.globalVaribles.$touchScreen.addClass("is-home-screen"):VolvoXC90.globalVaribles.$touchScreen.removeClass("is-home-screen")}}),VolvoXC90.touchScreenLoader.showApp()):e.mainSlider=new Swiper(".swiper-container",{direction:"horizontal",loop:!1,initialSlide:1,threshold:20,pagination:".swiper-pagination",paginationClickable:!0,nextButton:".swiper-button-next",prevButton:".swiper-button-prev",onInit:VolvoXC90.touchScreenLoader.showApp})};return e._initialize=function(){s(),i()},e}(jQuery),VolvoXC90.acModule=function(t){var e=VolvoXC90.globalVaribles.$componentWrapper.find(".js-climate-control"),i={$mainControlArea:e.find(".js-main-control-area"),$streamItem:e.find(".js-stream-item"),$topStream:e.find(".js-top-stream"),$midStream:e.find(".js-mid-stream"),$botStream:e.find(".js-bot-stream"),$topStreamArea:e.find("#TopStream"),$midStreamArea:e.find("#MidStream"),$botStreamArea:e.find("#BotStream"),topStreamState:0,midStreamState:0,botStreamState:0,$activeAirFlow:e.find(".air-flow-bg-active"),$acFanMeterBar:e.find(".js-meter-bar"),$fanOffButton:e.find(".js-ac-fans-off"),$fanMaxButton:e.find(".js-ac-fans-max"),$autoClimate:e.find(".js-auto-climate"),$acText:e.find(".js-ac-text"),$acFansActive:e.find(".js-fans-active"),climateState:1,$heatSliderOff:VolvoXC90.globalVaribles.$componentWrapper.find(".js-heat-slider-off"),$openHeatSlider:VolvoXC90.globalVaribles.$componentWrapper.find(".js-open-heat-slider")},s=function(){i.$topStream.on("click",function(e){e.preventDefault();var s=t(this);o(s,i.topStreamState,"topStream")}),i.$topStreamArea.on("click",function(t){t.preventDefault();var e=i.$topStream;o(e,i.topStreamState,"topStream"),n()}),i.$midStreamArea.on("click",function(t){t.preventDefault();var e=i.$midStream;o(e,i.midStreamState,"midStream"),n()}),i.$botStreamArea.on("click",function(t){t.preventDefault();var e=i.$botStream;o(e,i.botStreamState,"botStream"),n()}),i.$acFanMeterBar.on("click",".js-meter-bar-block",function(e){e.preventDefault(),t(this).prevAll().addClass("active"),t(this).addClass("active"),t(this).nextAll().removeClass("active"),i.$fanMaxButton.removeClass("active"),i.$fanOffButton.removeClass("active"),r(!0)}),i.$fanOffButton.on("click",function(e){e.preventDefault(),i.$fanMaxButton.removeClass("active"),i.$autoClimate.removeClass("active"),t(this).addClass("active"),a(!1),i.$acFanMeterBar.removeClass("auto"),i.$acText.removeClass("auto max").addClass("off"),i.$acFanMeterBar.find(".js-meter-bar-block").removeClass("active"),VolvoXC90.globalModule.$openClimateButton.removeClass("active"),i.$acFansActive.removeClass("active")}),i.$fanMaxButton.on("click",function(e){e.preventDefault(),i.$fanOffButton.removeClass("active"),i.$autoClimate.removeClass("active"),i.$acFanMeterBar.removeClass("auto"),t(this).addClass("active"),a(!0),i.$acText.removeClass("auto off").addClass("max"),i.$acFanMeterBar.find(".js-meter-bar-block").addClass("active"),VolvoXC90.globalModule.$openClimateButton.removeClass("active"),i.$acFansActive.addClass("active")}),i.$autoClimate.on("click",function(e){e.preventDefault(),t(this).addClass("active"),i.$fanMaxButton.removeClass("active"),i.$fanOffButton.removeClass("active"),i.$acText.removeClass("max off").addClass("auto"),l(),i.$acFansActive.addClass("active")})},o=function(t,e,s){if(0===e)switch(t.addClass("active"),s){case"topStream":i.topStreamState=1;break;case"midStream":i.midStreamState=1;break;case"botStream":i.botStreamState=1}else switch(t.removeClass("active"),s){case"topStream":i.topStreamState=0;break;case"midStream":i.midStreamState=0;break;case"botStream":i.botStreamState=0}},n=function(){1===i.topStreamState||1===i.midStreamState||1===i.botStreamState?(i.$activeAirFlow.addClass("active"),VolvoXC90.globalModule.$openClimateButton.addClass("active")):(i.$activeAirFlow.removeClass("active"),VolvoXC90.globalModule.$openClimateButton.removeClass("active"))},a=function(t){t?(i.$acFanMeterBar.addClass("manual"),r(t),h(!0)):(i.$acFanMeterBar.removeClass("manual auto"),r(t),h(!1))},r=function(t){t?(i.$mainControlArea.addClass("active"),VolvoXC90.globalModule.$openClimateButton.addClass("active"),i.$acFanMeterBar.addClass("manual"),h(!0)):(i.$mainControlArea.removeClass("active"),VolvoXC90.globalModule.$openClimateButton.removeClass("active"),i.$acFanMeterBar.removeClass("manual auto"),h(!1))},l=function(){i.$streamItem.removeClass("active"),e.find(".js-autoClimate").click(),i.topStreamState=0,i.midStreamState=0,i.botStreamState=0,h(!0),i.$acFanMeterBar.addClass("auto"),i.$acText.removeClass("max off").addClass("auto"),n()},h=function(t){t?(i.climateState=1,i.$heatSliderOff.addClass("hidden"),i.$openHeatSlider.removeClass("hidden")):(i.climateState=0,i.$openHeatSlider.addClass("hidden"),i.$heatSliderOff.removeClass("hidden"))};return i._initialize=function(){s()},i}(jQuery),VolvoXC90.heatControlModule=function(t){var e=VolvoXC90.globalVaribles.$mainWrapper.find(".js-app-footer"),i={$heatSeat:e.find(".js-heat-seat"),leftSeatState:0,rightSeatState:0,$heatSliderButton:e.find(".js-open-heat-slider"),leftHeatValue:22,rightHeatValue:22,leftHeatSliderStep:13,rightHeatSliderStep:13,$heatSliderLeft:t(".js-heat-slider-left"),$heatSliderRight:t(".js-heat-slider-right"),$heatSliderClose:t(".js-close-heat-panel"),$heatSliderPlus:t(".js-slider-plus"),$heatSliderMinus:t(".js-slider-minus"),leftSlider:!1,rightSlider:!1},s=function(){i.$heatSeat.on("click",function(e){e.preventDefault();var i=parseInt(t(this).attr("data-active-heat"));o(t(this),i)}),i.$heatSliderButton.on("click",function(e){if(e.preventDefault(),1===VolvoXC90.acModule.climateState){var i=t(this).attr("data-heat-slider");a(i,!0)}}),i.$heatSliderClose.on("click",function(e){e.preventDefault();var i=t(this).attr("data-heat-slider");a(i,!1)}),i.$heatSliderPlus.on("click",function(){var e=t(this).attr("data-slider-position");d(e,!0)}),i.$heatSliderMinus.on("click",function(){var e=t(this).attr("data-slider-position");d(e,!1)})},o=function(e,i){switch(i){case 0:e.addClass("level-1"),e.attr("data-active-heat",i+1),n(t(this).attr("data-seat-position"),i+1);break;case 1:e.addClass("level-2"),e.attr("data-active-heat",i+1),n(t(this).attr("data-seat-position"),i+1);break;case 2:e.addClass("level-3"),e.attr("data-active-heat",i+1),n(t(this).attr("data-seat-position"),i+1);break;default:e.removeClass("level-1 level-2 level-3"),e.attr("data-active-heat",0),n(t(this).attr("data-seat-position"),0)}},n=function(t,e){"left"===t?i.leftSeatState=e:i.rightSeatState=e},a=function(t,e){e?"left"===t?(i.$heatSliderLeft.removeClass("is-hidden"),i.leftSlider||h()):(i.$heatSliderRight.removeClass("is-hidden"),i.rightSlider||c()):"left"===t?i.$heatSliderLeft.addClass("is-hidden"):i.$heatSliderRight.addClass("is-hidden")},r=function(i,s){t(".js-slider-number[data-slider-position='"+i+"'] .text").html(Math.floor(s)),e.find(".js-open-heat-slider[data-heat-slider='"+i+"'] .text").html(Math.floor(s)),s%1!=0?VolvoXC90.globalVaribles.$mainWrapper.find(".js-heat-decimal-"+i).removeClass("hidden"):VolvoXC90.globalVaribles.$mainWrapper.find(".js-heat-decimal-"+i).addClass("hidden")},l=function(t){var e={vertical:!0,horizontal:!1,steps:25,snap:!0,slide:!1,top:0,bottom:0,callback:function(e,s){var o=this.getStep()[1],n="left"==t?i.leftHeatSliderStep:i.rightHeatSliderStep,a="left"==t?i.leftHeatValue:i.rightHeatValue;n>o?(a+=(n-o)/2,n=o):(a-=(o-n)/2,n=o),"left"==t&&(i.leftHeatSliderStep=n,i.leftHeatValue=a),"right"==t&&(i.rightHeatSliderStep=n,i.rightHeatValue=a),r(t,a)}};return e},h=function(){i.leftSlider=new Dragdealer("left-ac-slider",l("left")),i.leftSlider.setStep(0,13,!0)},c=function(){i.rightSlider=new Dragdealer("right-ac-slider",l("right")),i.rightSlider.setStep(0,13,!0)},d=function(t,e){var s="left"==t?i.leftHeatSliderStep:i.rightHeatSliderStep,o="left"==t?i.leftHeatValue:i.rightHeatValue,n="left"==t?i.leftSlider:i.rightSlider;e&&28>o?(n.setStep(0,s-=1,!0),o+=.5):!e&&o>16&&(n.setStep(0,s+=1,!0),o-=.5),"left"==t&&(i.leftHeatSliderStep=s,i.leftHeatValue=o),"right"==t&&(i.rightHeatSliderStep=s,i.rightHeatValue=o)};return i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.touchScrollModule=function(t){var e=t(".js-touch-scroll"),i={},s=function(){e.each(function(t,e){i.initScroll(e)})};return i.initScroll=function(t){new IScroll(t)},i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.carFunctionModule=function(t){var e=t(".js-car-functions"),i={$button:e.find(".js-button")},s=function(){i.$button.on("click",o)},o=function(){var e=t(this);e.hasClass("is-disabled")||e.toggleClass("is-active")};return i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.tilesModule=function(t){var e=t(".js-tiles"),i={$tiles:e.find(".js-tile"),$tileButton:e.find(".js-tile-button")},s=function(){i.$tileButton.on("click",o)},o=function(){var s=t(this).closest(".js-tile"),o=s.hasClass("is-open"),n=t(".js-touch-screen-wrapper").hasClass("carplay-disabled"),a=s.hasClass("js-phone-tile");if(a&&!n)VolvoXC90.globalModule.showDemoMessage();else{if(i.$tiles.removeClass("is-open"),o)return e.removeClass("is-open"),void VolvoXC90.globalVaribles.$touchScreen.removeClass("is-tile-open");s.addClass("is-open"),e.addClass("is-open"),VolvoXC90.globalVaribles.$touchScreen.addClass("is-tile-open"),s.find(".js-touch-scroll").each(function(t,e){VolvoXC90.touchScrollModule.initScroll(e)})}};return i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.homeButton=function(t){var e=VolvoXC90.globalVaribles.$mainWrapper,i={$homeButton:e.find(".js-home-btn"),$tiles:e.find(".js-tiles"),$climateControl:e.find(".js-climate-control"),$acControlLeft:e.find(".js-heat-slider-left"),$acControlRight:e.find(".js-heat-slider-right"),$keypadScreen:e.find(".js-keypad-screen"),$contactSingle:e.find(".js-contact-single")},s=function(){i.$homeButton.on("click",function(t){VolvoXC90.globalModule.$topSlider[0].offsetTop||(i.$acControlLeft.hasClass("is-hidden")&&i.$acControlRight.hasClass("is-hidden")?i.$climateControl.hasClass("is-hidden")?1!=VolvoXC90.sliderModule.mainSlider.activeIndex?(VolvoXC90.globalModule.$keypadScreen.addClass("hidden"),VolvoXC90.sliderModule.mainSlider.slideTo(1)):i.$keypadScreen.hasClass("hidden")?i.$contactSingle.hasClass("hidden")?i.$tiles.hasClass("is-open")?i.$tiles.find(".is-open .tile-header").trigger("click"):VolvoXC90.helpMode.startGuide("home"):i.$contactSingle.find(".js-close-single-contact ").trigger("click"):i.$keypadScreen.find(".js-close-keypad").trigger("click"):e.find(".js-close-climate").trigger("click"):e.find(".js-close-heat-panel").trigger("click"))})};return i._initialize=function(){0!=i.$homeButton.length&&s()},i}(jQuery),VolvoXC90.homePhoneModule=function(t){var e=t(".js-tiles"),i={$keypadButton:e.find(".js-open-keypad"),$endCallButton:e.find(".js-end-call"),$callingScreen:e.find(".js-phone-calling"),$homeCallScreen:e.find(".js-home-phone"),$contactListTemplate:t("#homeContactList"),$homeContactList:e.find(".js-home-contact-list"),$callStatus:e.find(".js-call-status"),$numberOrName:e.find(".js-number-or-name"),$contactImage:e.find(".js-contact-image")},s=function(){i.$keypadButton.on("click",function(){VolvoXC90.globalModule.$keypadScreen.removeClass("hidden")}),i.$endCallButton.on("click",function(){i.endCall()}),e.on("click",".js-home-contact-item",function(e){e.preventDefault();var i=t(this).attr("data-id"),s=VolvoXC90.singleContactModule.getSelectedContact(i);VolvoXC90.singleContactModule.populateSingleContact(s),n(i)})},o=function(t){if(null!==t&&"undefined"!=typeof t){var e=_.template(i.$contactListTemplate.html());i.$homeContactList.html(e({contacts:t}))}},n=function(e){VolvoXC90.globalModule.replaceTextStrings(textDb,VolvoXC90.globalVaribles.$singleContactScreen),VolvoXC90.globalVaribles.$singleContactScreen.removeClass("hidden"),t(".js-touch-scroll").each(function(t,e){VolvoXC90.touchScrollModule.initScroll(e)})};return i.endCall=function(){textDb.label_phone_9998?i.$numberOrName.text(textDb.label_phone_9998):i.$numberOrName.text("My Phone"),i.$contactImage.find("img").attr("src","/static/images/xc90demoappimages/tile-icon-phone.png"),i.$callingScreen.addClass("hidden"),i.$homeCallScreen.removeClass("hidden"),i.$callStatus.find(".js-connecting").addClass("hidden"),i.$callStatus.find(".js-busy").addClass("hidden")},i._initialize=function(){0!=e.length&&(s(),o(VolvoXC90.globalVaribles.contactList))},i}(jQuery),VolvoXC90.keypadModule=function(t){var e=t(".js-keypad-screen"),i={$keypadNumber:e.find(".js-number-button"),$numbersField:e.find(".js-number-field"),$deleteButton:e.find(".js-delete-number"),$callButton:e.find(".js-call-number"),$closeButton:e.find(".js-close-keypad"),$resultArea:e.find(".js-result-area"),$contactListTemplate:e.find("#contactItems"),$contactList:e.find(".js-contact-list"),$contactListShown:!1,$contactResultItem:e.find(".js-contact-result-item")},s=function(){i.$keypadNumber.on("click",function(){var e=t(this),s=e.attr("data-number");i.$numbersField.append(s);var a=i.$numbersField.html(),r=n(a);o(r)}),i.$deleteButton.on("click",function(){var t=i.$numbersField.text();t=t.slice(0,-1),i.$numbersField.html(t);var e=n(t);o(e)}),e.on("click",".js-contact-result-item",function(){var e=t(this).attr("data-id");i.callContactAction(!1,e),i.$numbersField.html(""),o()}),i.$closeButton.on("click",function(){e.addClass("hidden"),i.$numbersField.html(""),o()}),i.$callButton.on("click",function(){var t=i.$contactResultItem.not(":hidden").attr("data-id");i.callContactAction(a(),t),i.$numbersField.html(""),o()})},o=function(t){if("undefined"!=typeof t&&null!==typeof t&&""!==t){var e=t.contactId;i.$contactList.find("[data-id]").addClass("hidden"),i.$contactList.find("[data-id="+e+"]").removeClass("hidden"),i.$resultArea.removeClass("no-contact")}else i.$contactList.find("[data-id]").addClass("hidden"),i.$resultArea.addClass("no-contact")},n=function(t,e){var i;return t&&(i=_.find(VolvoXC90.globalVaribles.contactList,function(e){var i,s,o,n=t.substring(0,1);return 0===parseInt(t)&&(o=t.length,s=e.contactNumber.substring(0,o)),0!==parseInt(t)&&(o=t.length+1,s=e.contactNumber.substring(1,o)),0===parseInt(n)&&t.length>1&&(o=t.length,s=e.contactNumber.substring(0,o)),0!==parseInt(n)&&t.length>1&&(o=t.length+1,s=e.contactNumber.substring(1,o)),i=s==t})),e&&(i=_.find(VolvoXC90.globalVaribles.contactList,function(t){return t.contactId==parseInt(e)})),i},a=function(){return i.$numbersField.text()};i.callContactAction=function(t,s){var o;if(parseInt(s)>0&&"undefined"!=typeof s&&null!==typeof s&&(o=n(t,parseInt(s))),parseInt(t)>0&&"undefined"!=typeof t&&null!==typeof t&&(o=n(t)),void 0!==o)VolvoXC90.homePhoneModule.$numberOrName.text(o.contactName+" - "+o.contactNumber),VolvoXC90.homePhoneModule.$contactImage.find("img").attr("src","/static/images/xc90demoappimages/phone/img_med_default_contact_S4.png");else{if(""==i.$numbersField.text())return;VolvoXC90.homePhoneModule.$numberOrName.text(t)}e.addClass("hidden"),VolvoXC90.singleContactModule.$singleContact.addClass("hidden"),VolvoXC90.homePhoneModule.$homeCallScreen.addClass("hidden"),VolvoXC90.homePhoneModule.$callingScreen.removeClass("hidden"),VolvoXC90.homePhoneModule.$callStatus.find(".js-connecting").removeClass("hidden"),setTimeout(function(){VolvoXC90.homePhoneModule.$callStatus.find(".js-connecting").addClass("hidden"),VolvoXC90.homePhoneModule.$callStatus.find(".js-busy").removeClass("hidden")},3500),setTimeout(function(){VolvoXC90.homePhoneModule.endCall()},5e3)};var r=function(t){if(null!==t&&"undefined"!=typeof t){var e=_.template(i.$contactListTemplate.html());i.$contactList.html(e({items:t}))}};return i._initialize=function(){0!=e.length&&(r(VolvoXC90.globalVaribles.contactList),s())},i}(jQuery),VolvoXC90.singleContactModule=function(t){var e=t(".js-contact-single"),i={$singleContact:e,$keypadButton:e.find(".js-open-keypad"),$closeSingleContact:e.find(".js-close-single-contact"),$contactPhoneTemplate:e.find("#singleContactNumber"),$contactNumbersBody:e.find(".js-contact-numbers-body"),$contactAddressTemplate:e.find("#singleContactAddress"),$contactAddressBody:e.find(".js-address-body")},s=function(){i.$closeSingleContact.on("click",function(){e.addClass("hidden")}),e.on("click",".js-contact-item",function(){var e=t(this).find(".js-contact-number").html();o(e)})};i.getSelectedContact=function(t){var e;return t&&(e=_.find(VolvoXC90.globalVaribles.contactList,function(e){return e.contactId==parseInt(t)})),e},i.populateSingleContact=function(t){if(null!==t&&"undefined"!=typeof t){var s=_.template(i.$contactPhoneTemplate.html());i.$contactNumbersBody.html(s({items:t.contactNumbers}));var o=_.template(i.$contactAddressTemplate.html());i.$contactAddressBody.html(o({items:t.contactAddress})),e.find(".js-contact-name").html(t.contactName),e.find(".js-contact-item").attr("data-main-number",t.contactNumber),e.find(".js-contact-pic").attr("src","/static/images/xc90demoappimages/phone/img_med_default_contact_S4.png")}};var o=function(t){var i,s;i=e.find(".js-contact-name").html(),s=e.find(".js-contact-pic").attr("src"),VolvoXC90.homePhoneModule.$numberOrName.text(i+" - "+t),VolvoXC90.homePhoneModule.$contactImage.find("img").attr("src",s),VolvoXC90.singleContactModule.$singleContact.addClass("hidden"),VolvoXC90.homePhoneModule.$homeCallScreen.addClass("hidden"),VolvoXC90.homePhoneModule.$callingScreen.removeClass("hidden"),VolvoXC90.homePhoneModule.$callStatus.find(".js-connecting").removeClass("hidden"),setTimeout(function(){VolvoXC90.homePhoneModule.$callStatus.find(".js-connecting").addClass("hidden"),VolvoXC90.homePhoneModule.$callStatus.find(".js-busy").removeClass("hidden")},3500),setTimeout(function(){VolvoXC90.homePhoneModule.endCall()},5e3)};return i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.navigation=function(t){var e=VolvoXC90.globalVaribles.$mainWrapper.find(".js-tile-navigation"),i={$depthBtn:e.find(".js-change-depth")};return i._initialize=function(){i.$depthBtn.on("click",function(t){t.preventDefault(),e.toggleClass("bg-3d")})},i}(jQuery),VolvoXC90.helpMode=function(t){var e=VolvoXC90.globalVaribles.$mainWrapper.find(".js-help-mode"),i={$helpModeHome:e.find(".js-help-mode-home"),$helpModeApplications:e.find(".js-help-mode-applications")},s=function(){i.$helpModeHome.on("click",function(t){n("home")}),i.$helpModeApplications.on("click",function(t){n("applications")})},o=function(t){VolvoXC90.globalVaribles.helpMode&&("home"==t&&i.$helpModeHome.fadeIn(400),"applications"==t&&i.$helpModeApplications.fadeIn(400))},n=function(t){"home"==t?i.$helpModeHome.fadeOut(400):"applications"==t?i.$helpModeApplications.fadeOut(400):(i.$helpModeHome.fadeOut(400),i.$helpModeApplications.fadeOut(400))};return i.startGuide=o,i.stopGuide=n,i._initialize=function(){0!=e.length&&s()},i}(jQuery),VolvoXC90.switchApps=function(t){var e=VolvoXC90.globalVaribles.$mainWrapper,i={$carplayTile:e.find(".js-carplay-tile"),$carplayBtn:e.find(".js-carplay-application-btn"),$weatherTile:e.find(".js-weather-tile"),$weatherBtn:e.find(".js-weather-application-btn")},s=function(){i.$carplayBtn.on("click",function(){o("carplay"),n()}),i.$weatherBtn.on("click",function(){o("weather"),n()})},o=function(t){var e={},s={};"carplay"==t&&(e=i.$weatherTile,s=i.$carplayTile),"weather"==t&&(e=i.$carplayTile,s=i.$weatherTile),e.addClass("hidden"),s.removeClass("hidden"),s.hasClass("is-open")||(s.addClass("is-loading").find(".js-tile-button").trigger("click"),setTimeout(function(){s.removeClass("is-loading")},2e3)),VolvoXC90.sliderModule.mainSlider.slideTo(1)},n=function(){i.$carplayTile.hasClass("hidden")?e.addClass("carplay-disabled"):e.removeClass("carplay-disabled")};return i._initialize=function(){0!=e.length&&(n(),s())},i}(jQuery),VolvoXC90.openVideo=function(t){var e=t(".touch-screen-demo"),i={$videoBtn:e.find(".popup-vimeo")};return i._initialize=function(){i.$videoBtn.magnificPopup({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler test"><div class="mfp-close icon icon-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>'},callbacks:{open:function(){t("html").addClass("xc90-magnific-active")},close:function(){t("html").removeClass("xc90-magnific-active")}}})},i}(jQuery),VolvoXC90.clock=function(t){function e(){var t=new Date,s=t.getHours(),n=t.getMinutes();t.getSeconds();n=i(n),o.$clock.html(s+":"+n);setTimeout(e,500)}function i(t){return 10>t&&(t="0"+t),t}var s=VolvoXC90.globalVaribles.$mainWrapper,o={$clock:s.find(".js-clock")};return o._initialize=function(){e()},o}(jQuery),VolvoXC90.mediaPlayerModule=function(t){function e(t){var e=new Date(1970,0,1);e.setSeconds(t);var i=e.getMinutes(),s=e.getSeconds(),o=(10>i?"0":"")+i+":"+(10>s?"0":"")+s;return o}var i=t(".js-media-player"),s=t(".js-media-player-screen"),o={$songItem:i.find(".js-song-item"),$mediaPlayerScreen:t(".js-media-player-screen"),$mediaPlayerArtist:t(".js-player-artist"),$mediaPlayerSong:t(".js-player-song"),$mediaPlayerImage:t(".js-song-playing-img"),$mediaPlayerPlayBtn:t(".js-play-pause"),$pauseIcon:t(".js-pause-song"),$playIcon:t(".js-play-song"),$rightTime:s.find(".js-right-time"),$leftTime:s.find(".js-left-time"),$progressBar:s.find(".progress-bar"),songPaused:!0,barInterval:0,currentSongDuration:0},n=function(){o.$songItem.on("click",function(){i.find("audio");var e=t(this),s=e.siblings();s.removeClass("active");var n=e.attr("data-song-id");o.currentSongDuration=e.attr("data-song-duration");var h=document.getElementById(n);e.addClass("active"),a(),l(e,h),r(n,o.currentSongDuration)}),o.$mediaPlayerPlayBtn.on("click",function(e){e.stopPropagation();var i=t(this).attr("data-song-id");i&&(0==o.currentSongDuration?r(i,160):r(i,o.currentSongDuration))})},a=function(){t.each(t("audio"),function(){t(this).get(0).pause(),t(this).get(0).readyState>0&&(t(this).get(0).currentTime=0)}),o.$progressBar.css("width",0)},r=function(t,e){var i=document.getElementById(t);i.paused?(i.play(),o.songPaused=!1,o.$playIcon.addClass("hidden"),o.$pauseIcon.removeClass("hidden"),h(e,i.currentTime)):(i.pause(),o.$playIcon.removeClass("hidden"),o.$pauseIcon.addClass("hidden"),o.songPaused=!0)},l=function(t,i){var s=t.find(".text-song-name").html(),n=t.find(".text-artist-name").html(),a=t.find("img").attr("src");o.$mediaPlayerArtist.html(n),o.$mediaPlayerSong.html(s),o.$mediaPlayerImage.attr("src",a),o.$mediaPlayerPlayBtn.attr("data-song-id",t.attr("data-song-id")),o.$progressBar.css("width","0"),o.$rightTime.html(e(t.attr("data-song-duration"))),clearInterval(o.barInterval)},h=function(t,i){t>i&&!o.songPaused?o.barInterval=setInterval(function(){if(o.songPaused)clearInterval(o.barInterval);else{i+=1;var s=100*i/t;o.$progressBar.css("width",s+"%"),o.$leftTime.html(e(i))}(i===t||i>t)&&(o.$progressBar.css("width","0"),o.$leftTime.html(e(0)),clearInterval(o.barInterval))},1e3):clearInterval(o.barInterval)};return o._initialize=function(){0!=i.length&&n()},o}(jQuery),jQuery(function(){if(0!=VolvoXC90.globalVaribles.$componentWrapper.length&&!$("html").is(".lt-ie9"))for(var t in VolvoXC90)"function"==typeof VolvoXC90[t]._initialize&&VolvoXC90[t]._initialize.call(VolvoXC90[t])});